TRABAJO PRÁCTICO BD1


---------------------------------------------------------------------------------------------------------
V2-------------------------------------------------------------------------------------------------------

****** REQUERIMIENTOS: ****** 
Armar catalogo de partes. (Ver TABLA 1)
Reporte con datos de proveedores. (Ver TABLA 2)
Reporte de Ordenes Compradas a Proveedores. (Ver TABLA 3)
Armar pedido pendientes de entrega clientes externos. (Ver TABLA 4)
Reporte con datos de clientes. (Ver TABLA 5)
Reporte con datos de empleados que gestionan el almacén. (Ver TABLA 6)
Reporte del Inventario. (Ver TABLA 7)
Reporte de pedidos entregados. (Ver TABLA 8)
Armar gestión de devolución de repuestos a proveedores. (Ver TABLA 9)
Armar pedido a cliente interno. (Ver TABLA 10)
Reporte de Ordenes pendientes de entrega. (Ver TABLA 11)
Reporte de consumos de materiales. (Ver TABLA 12)
Registrar auditoria de inventario. (Ver TABLA 13)
Registro de diagnostico de cada. (Ver TABLA 14)
Reparaciones realizadas. (Ver TABLA 15)


****** TABLAS CREADAS: ******
1-  REPUESTOS: Información sobre cada repuesto (ID, nombre, descripción, precio, cantidad en stock).
2-  PROVEEDORES: Datos de los proveedores de repuestos (ID, nombre, contacto, dirección).
3-  PEDIDOS: Información sobre los pedidos realizados a los proveedores (ID, fecha, proveedor, estado).
4-  DETALLEPEDIDOS: Detalles de cada pedido (ID, pedido ID, repuesto ID, cantidad, precio).
5-  CLIENTES: Información de los clientes (ID, nombre, contacto, dirección).
6-  EMPLEADOS: Datos de los empleados que gestionan el almacén (ID, nombre, puesto, contacto).
7- INVENTARIOS: Registro de inventario (ID, repuesto ID, cantidad actual, ubicación).
8- MOVIMIENTOSINVENTARIO: Historial de movimientos de inventario (ID, repuesto ID, cantidad, tipo de movimiento, fecha).
9- DEVOLUCIONES: Registro de devoluciones de repuestos (ID, venta ID, repuesto ID, cantidad, motivo).
10- ORDENES: Registro de órdenes de trabajo para reparaciones (ID, cliente ID, fecha, estado).
11- DETALLEORDENES: Detalles de cada orden de trabajo (ID, orden de trabajo ID, repuesto ID, cantidad, precio).
12- CONSUMOSLAB: Detalle del consumo de repuestos del laboratorio de reparación.
13- AUDITORIASTOCK: Detalle del control de stock.
14- DIAGNOSTICOS_REPARACION: Registro de diagnostico de cada orden de trabajo. (ID, orden ID, descripción, fecha, empleado ID)
15- HISTORIAL_REPARACIONES: cada una de las reparaciones que se han hecho (ya finalizadas). (ID, orden ID, fecha_inicio, fecha_fin, descripción, empleado ID, tiempo_reparacion)


****** ÍNDICES CREADOS: ******
Se crea un índice por cada columna de la tabla que posiblemente tengan consultas mas frecuentes.


****** CHECK CONSTRAINTS: ******
Tabla repuestos:
	chk_precio y chk_cantidadStock: Evitar números negativos.

Tabla repuestos:
	chk_precio_detalle y chk_precio_detalleorden: Evitar números negativos.

Tabla pedidos:
	chk_estado: solo permite que tenga valores ('PEN', 'PRO', 'ENV', 'REC', 'CAN', 'DEV').
	chk_estado_orden: solo permite que tenga valores ('pendiente', 'en proceso', 'completada', 'cancelada').

Tabla movimientosinventario:
	chk_tipo_movimiento: solo permite que tenga valores ('entrada', 'salida').


****** CLAVES PRIMARIAS CREADAS: (PK) ******
Cada una de las tablas tiene su propio id como PrimaryKey.


****** CLAVES FORÁNEAS CREADAS: (FK) ******
Tabla pedidos:
	fk_proveedor: Hace referencia a idproveedor en la tabla proveedores.

Tabla detallepedidos:
	fk_pedido: Hace referencia a idpedido en la tabla pedidos.
	fk_repuesto_detallepedidos: Hace referencia a idrepuesto en la tabla repuestos.

Tabla inventarios:
	fk_repuesto_inventarios: Hace referencia a idrepuesto en la tabla repuestos.

Tabla movimientosinventario:
	fk_repuesto_movimientosinventario: Hace referencia a idrepuesto en la tabla repuestos.

Tabla devoluciones:
	fk_repuesto_devoluciones: Hace referencia a idrepuesto en la tabla repuestos.

Tabla ordenes:
	fk_cliente: Hace referencia a idcliente en la tabla clientes.

Tabla detalleordenes:
	fk_orden: Hace referencia a idorden en la tabla ordenes.
	fk_repuesto_detalleordenes: Hace referencia a idrepuesto en la tabla repuestos.

Tabla diagnosticos_reparacion: 
	fk_orden_diagnostico: Hace referencia a `idorden` en la tabla `ordenes`. 
	fk_empleado_diagnostico: Hace referencia a `idempleado` en la tabla `empleados`. 

Tabla historial_reparaciones: 
	fk_orden_historial: Hace referencia a `idorden` en la tabla `ordenes`.
	fk_empleado_historial: Hace referencia a `idempleado` en la tabla `empleados`.





---------------------------------------------------------------------------------------------------------
V1-------------------------------------------------------------------------------------------------------

****** TABLAS CREADAS: ******
1-  REPUESTOS: Información sobre cada repuesto (ID, nombre, descripción, precio, cantidad en stock).
2-  CATEGORIAS: Clasificación de los repuestos (ID, nombre de la categoría).
3-  PROVEEDORES: Datos de los proveedores de repuestos (ID, nombre, contacto, dirección).
4-  PEDIDOS: Información sobre los pedidos realizados a los proveedores (ID, fecha, proveedor, estado).
5-  DETALLEPEDIDOS: Detalles de cada pedido (ID, pedido ID, repuesto ID, cantidad, precio).
6-  CLIENTES: Información de los clientes (ID, nombre, contacto, dirección).
7-  VENTAS: Registro de las ventas realizadas (ID, fecha, cliente, total).
8-  DETALLEVENTAS: Detalles de cada venta (ID, venta ID, repuesto ID, cantidad, precio).
9-  EMPLEADOS: Datos de los empleados que gestionan el almacén (ID, nombre, puesto, contacto).
10- INVENTARIOS: Registro de inventario (ID, repuesto ID, cantidad actual, ubicación).
11- MOVIMIENTOSINVENTARIO: Historial de movimientos de inventario (ID, repuesto ID, cantidad, tipo de movimiento, fecha).
12- DEVOLUCIONES: Registro de devoluciones de repuestos (ID, venta ID, repuesto ID, cantidad, motivo).
13- SUCURSALES: Información sobre las diferentes sucursales (ID, nombre, dirección, contacto).
14- ORDENES: Registro de órdenes de trabajo para reparaciones (ID, cliente ID, fecha, estado).
15- DETALLEORDENES: Detalles de cada orden de trabajo (ID, orden de trabajo ID, repuesto ID, cantidad, precio).


****** ÍNDICES CREADOS: ******
Solo tiene índice la tabla 'clientes' porque sino me tiraba un error al crear su clave foránea.


****** CLAVES PRIMARIAS CREADAS: (PK) ******
Cada una de las tablas tiene su propio id como PrimaryKey.


****** CLAVES FORÁNEAS CREADAS: (FK) ******
Tabla pedidos:
	fk_proveedor: Hace referencia a idproveedor en la tabla proveedores.

Tabla detallepedidos:
	fk_pedido: Hace referencia a idpedido en la tabla pedidos.
	fk_repuesto_detallepedidos: Hace referencia a idrepuesto en la tabla repuestos.

Tabla detalleventas:
	fk_venta: Hace referencia a idventa en la tabla ventas.
	fk_repuesto_detalleventas: Hace referencia a idrepuesto en la tabla repuestos.

Tabla inventarios:
	fk_repuesto_inventarios: Hace referencia a idrepuesto en la tabla repuestos.

Tabla movimientosinventario:
	fk_repuesto_movimientosinventario: Hace referencia a idrepuesto en la tabla repuestos.

Tabla devoluciones:
	fk_venta_devoluciones: Hace referencia a idventa en la tabla ventas.
	fk_repuesto_devoluciones: Hace referencia a idrepuesto en la tabla repuestos.

Tabla ordenes:
	fk_cliente: Hace referencia a idcliente en la tabla clientes.

Tabla detalleordenes:
	fk_orden: Hace referencia a idorden en la tabla ordenes.
	fk_repuesto_detalleordenes: Hace referencia a idrepuesto en la tabla repuestos.

